(this.webpackJsonppollsmaker=this.webpackJsonppollsmaker||[]).push([[0],{145:function(e,t,c){},147:function(e,t,c){},304:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(27),s=c.n(r),l=c(16),o=(c(145),c(17)),i=(c(146),c(147),c(15)),j=c(14),b=c.n(j),d=c(21),u=c(8),p=c(22),O=c.n(p),h=c(60),m=c(137),x=c(1),g=function(){var e=Object(i.f)();return Object(x.jsxs)(h.a,{className:"navbar",collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",style:{paddingLeft:"50px"},children:[Object(x.jsx)(l.b,{to:"/",style:{textDecoration:"none"},children:Object(x.jsx)(h.a.Brand,{to:"/home",children:"Polls Maker"})}),Object(x.jsx)(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(x.jsx)(h.a.Collapse,{id:"responsive-navbar-nav",children:Object(x.jsx)(m.a,{className:"justify-content-end",children:window.localStorage.getItem("curr_user")&&Object(x.jsx)("button",{type:"submit",className:"btn btn-primary ml-auto",onClick:function(){window.localStorage.removeItem("curr_id"),window.localStorage.removeItem("curr_user"),e.push("/sign-in")},children:"Log Out"})})})]})};c(85);function f(){var e=Object(i.f)();window.localStorage.getItem("curr_user")&&e.push("/");var t=Object(a.useState)(""),c=Object(u.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),j=o[0],p=o[1],h=function(){var t=Object(d.a)(b.a.mark((function t(){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={email:n,password:j},t.next=3,O.a.post("https://pollmaker.herokuapp.com/login",c).then((function(t){"allow"==t.data.message&&(window.localStorage.setItem("curr_user",c.email),window.localStorage.setItem("curr_id",t.data.id),e.push("/"))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{}),Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault(),h()},children:Object(x.jsxs)("div",{className:"container col-8 offset-2 col-lg-4 offset-lg-4",style:{marginTop:"5em"},children:[Object(x.jsx)("h3",{children:"Log in"}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-12",children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Email"}),Object(x.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",value:n,onChange:function(e){r(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:j,onChange:function(e){p(e.target.value)}})]}),Object(x.jsx)("div",{className:"form-group"}),Object(x.jsx)("button",{type:"submit",className:"btn btn-dark btn-lg btn-block",children:"Sign in"}),Object(x.jsxs)("p",{className:"forgot-password text-right",children:["don't have account ? ",Object(x.jsx)(l.b,{to:"/sign-up",children:"Sign Up"})]})]})})})]})})]})}var v=function(){var e=Object(i.f)(),t=Object(a.useState)(""),c=Object(u.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),j=o[0],p=o[1],h=Object(a.useState)(""),m=Object(u.a)(h,2),f=m[0],v=m[1],w=Object(a.useState)(""),y=Object(u.a)(w,2),N=y[0],S=y[1],k=Object(a.useState)(""),C=Object(u.a)(k,2),I=C[0],L=C[1];window.localStorage.getItem("curr_id")&&e.push("/");var P=function(){var t=Object(d.a)(b.a.mark((function t(){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={firstName:j,lastName:n,email:f,password:N},t.next=3,O.a.post("https://pollmaker.herokuapp.com//signup",c).then((function(t){"user registered"==t.data.message?(alert("User Registered"),e.push("/sign-in")):"email exist"==t.data.message?L("email exist"):alert("Error")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{}),Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault(),P()},children:Object(x.jsxs)("div",{className:"container col-8 offset-2 col-lg-4 offset-lg-4",style:{marginTop:"5em"},children:[Object(x.jsx)("h3",{style:{textAlign:"center"},children:"Register"}),I?Object(x.jsx)("div",{class:"alert alert-danger",role:"alert",children:I}):null,Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"First name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"First name",value:j,onChange:function(e){p(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Last name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Last name",value:n,onChange:function(e){r(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Email"}),Object(x.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",value:f,onChange:function(e){v(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:N,onChange:function(e){S(e.target.value)}})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-dark btn-lg btn-block",children:"Register"}),Object(x.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",Object(x.jsx)(l.b,{to:"/sign-in",children:" log in?"})]})]})})]})},w=c(19),y=c(57),N=c(28),S=function(){var e=Object(i.f)(),t=Object(a.useState)(""),c=Object(u.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),l=Object(u.a)(s,2),o=l[0],j=l[1],p=Object(a.useState)(""),h=Object(u.a)(p,2),m=h[0],f=h[1],v=Object(a.useState)(""),S=Object(u.a)(v,2),k=S[0],C=S[1],I=Object(a.useState)(""),L=Object(u.a)(I,2),P=L[0],F=L[1],T=Object(a.useState)(""),_=Object(u.a)(T,2),E=_[0],B=_[1],Q=Object(a.useState)(!1),U=Object(u.a)(Q,2),R=U[0],D=U[1],G=Object(a.useState)(!1),H=Object(u.a)(G,2),A=H[0],J=H[1];window.localStorage.getItem("curr_user")||e.push("/");var z=function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user_id:window.localStorage.getItem("curr_id"),pollQuestion:n,options:[{opt:o,votes:0},{opt:m,votes:0},{opt:k,votes:0},{opt:P,votes:0}]},e.next=3,O.a.post("https://pollmaker.herokuapp.com/createpoll",t).then((function(e){"poll created"==e.data.message&&(B(e.data.shortUrl),D(!0),console.log(e.data))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)(g,{}),Object(x.jsxs)(N.a,{show:R,children:[Object(x.jsx)(N.a.Header,{children:Object(x.jsx)(N.a.Title,{children:"Poll Created"})}),Object(x.jsxs)(N.a.Body,{children:["Click the button to copy poll URL ",Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn btn-primary",onClick:function(){navigator.clipboard.writeText(E),J(!0),setTimeout((function(){J(!1)}),1e3)},children:"Copy short Url"}),Object(x.jsx)("br",{}),A?"Link Copied":null]}),Object(x.jsx)(N.a.Footer,{children:Object(x.jsx)(y.a,{variant:"secondary",onClick:function(){D(!1),e.push("/")},children:"Close"})})]}),Object(x.jsx)("div",{className:"container col-10 offset-1 col-lg-8 offset-lg-2 shadow-lg p-3 mb-5 bg-white rounded",style:{marginTop:"50px"},children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-12",children:[Object(x.jsx)("center",{children:Object(x.jsx)("h1",{children:"Create Poll"})}),Object(x.jsxs)(w.a,{className:"col-10 offset-1 col-lg-8 offset-lg-2",style:{marginBottom:"3em"},onSubmit:function(e){e.preventDefault(),z()},children:[Object(x.jsxs)(w.a.Group,{controlId:"formPollQuestion",children:[Object(x.jsx)(w.a.Label,{children:"Poll Question"}),Object(x.jsx)(w.a.Control,{type:"text",placeholder:"Enter Poll Question",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(x.jsxs)(w.a.Group,{controlId:"formOption1",children:[Object(x.jsx)(w.a.Label,{children:"Option 1"}),Object(x.jsx)(w.a.Control,{type:"text",placeholder:"Option1",value:o,onChange:function(e){return j(e.target.value)}})]}),Object(x.jsxs)(w.a.Group,{controlId:"formOption2",children:[Object(x.jsx)(w.a.Label,{children:"Option 2"}),Object(x.jsx)(w.a.Control,{type:"text",placeholder:"Option2",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(x.jsxs)(w.a.Group,{controlId:"formOption3",children:[Object(x.jsx)(w.a.Label,{children:"Option 3"}),Object(x.jsx)(w.a.Control,{type:"text",placeholder:"Option3",value:k,onChange:function(e){return C(e.target.value)}})]}),Object(x.jsxs)(w.a.Group,{controlId:"formOption4",children:[Object(x.jsx)(w.a.Label,{children:"Option 4"}),Object(x.jsx)(w.a.Control,{type:"text",placeholder:"Option1",value:P,onChange:function(e){return F(e.target.value)}})]}),Object(x.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})})]})},k=c(76);var C=function(){var e=Object(i.f)(),t=window.localStorage.getItem("curr_id");window.localStorage.getItem("curr_user")||e.push("/sign-in");var c=Object(a.useState)([]),n=Object(u.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(!1),j=Object(u.a)(o,2),p=j[0],h=j[1];return Object(a.useEffect)(Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://pollmaker.herokuapp.com/getpolls/"+t).then((function(e){s(e.data),h(!0)}));case 2:case"end":return e.stop()}}),e)}))),[]),console.log(window.localStorage.getItem("curr_id")),console.log(r),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{}),Object(x.jsxs)("div",{className:"content",style:{marginBottom:"10em"},children:[Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)(l.b,{className:"btn btn-primary col col-lg-2 col-md-4 col-sm-3 col-xs-4 ",style:{marginBottom:"20px"},to:"/createpoll",children:"Create Poll"})})}),Object(x.jsx)("hr",{}),p?0==r.length?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("center",{children:[Object(x.jsx)("h1",{children:"No previous polls present "}),Object(x.jsx)("br",{}),"Create a new poll"]})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{class:"card shadow mb-4 col-12 col-lg-10 col-md-10 offset-lg-1 offset-md-1",children:[Object(x.jsx)("div",{class:"card-header py-3",children:Object(x.jsx)("h6",{class:"m-0 font-weight-bold text-primary",children:"Previous Polls"})}),Object(x.jsx)("div",{class:"card-body",children:Object(x.jsxs)("table",{class:"table table-striped table-hover",children:[Object(x.jsx)("thead",{class:"thead-dark",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"col-4 col-md- col-lg-7",children:"Poll"}),Object(x.jsx)("th",{className:"col-8 col-md-5 col-lg-5",children:"Action"})]})}),Object(x.jsx)("tbody",{children:r.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t.pollQuestion}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-2",children:Object(x.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){navigator.clipboard.writeText(t.shortUrl)},children:"Copy URL"})}),Object(x.jsx)("div",{className:"col-2",children:Object(x.jsx)("button",{className:"btn btn-warning btn-sm col-xs-12",style:{marginLeft:"50px"},onClick:function(){e.push("/result/"+t._id)},children:"Result"})})]})})})]})}))})]})})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"col-10 offset-1",style:{marginTop:"50px"},children:Object(x.jsx)("center",{children:Object(x.jsx)(k.HashLoader,{loading:!0})})}),"  "]})]})]})},I=c(326),L=c(328),P=c(330),F=c(327),T=c(329),_=function(e){var t=Object(i.f)(),c=e.match.params.id,r=Object(a.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=Object(a.useState)({}),p=Object(u.a)(j,2),h=p[0],m=p[1],f=Object(a.useState)(!1),v=Object(u.a)(f,2),w=v[0],S=v[1];Object(a.useEffect)(Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://pollmaker.herokuapp.com/poll/"+c).then((function(e){m(e.data),o(e.data.options)}));case 2:case"end":return e.stop()}}),e)}))),[]);var k=n.a.useState(""),C=Object(u.a)(k,2),_=C[0],E=C[1],B=Object(a.useState)(!1),Q=Object(u.a)(B,2),U=Q[0],R=Q[1],D=function(){var e=Object(d.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=_){e.next=4;break}S(!0),e.next=7;break;case 4:return a={vote:_},e.next=7,O.a.post("https://pollmaker.herokuapp.com/submit/"+c,a).then((function(e){"vote submitted"==e.data.message&&(R(!0),window.localStorage.setItem(c,"true"))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return window.localStorage.getItem(c)&&(alert("you have submitted the poll"),t.push("/sign-in")),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{}),Object(x.jsxs)(N.a,{show:U,backdrop:"static",keyboard:!1,children:[Object(x.jsx)(N.a.Header,{children:Object(x.jsx)(N.a.Title,{children:"Poll Created"})}),Object(x.jsxs)(N.a.Body,{children:["Poll Submitted ",Object(x.jsx)("br",{}),"Thank You",Object(x.jsx)("br",{})]}),Object(x.jsx)(N.a.Footer,{children:Object(x.jsx)(y.a,{variant:"primary",onClick:function(){R(!1),t.push("/sign-in")},children:"Okay"})})]}),Object(x.jsxs)("div",{className:"container col-8 offset-2 shadow-lg p-3 mb-5 bg-white rounded",style:{marginTop:"50px"},children:[w?Object(x.jsx)("div",{class:"alert alert-danger",role:"alert",children:"Please select any option"}):null,Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-12",children:[Object(x.jsx)("center",{children:Object(x.jsx)("h1",{children:"Poll"})}),Object(x.jsx)("div",{className:"offset-1",children:Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault(),D()},children:Object(x.jsxs)(F.a,{component:"fieldset",children:[Object(x.jsx)(T.a,{component:"legend",children:Object(x.jsx)("h2",{style:{color:"blueviolet"},children:h.pollQuestion})}),Object(x.jsx)(L.a,{"aria-label":"gender",name:"gender1",value:_,onChange:function(e){E(e.target.value)},children:l.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(P.a,{value:e.opt,control:Object(x.jsx)(I.a,{}),label:e.opt})})}))}),Object(x.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})})})]})})]})]})},E=c(136),B=function(e){Object(i.f)();var t=e.match.params.id,c=Object(a.useState)(!1),n=Object(u.a)(c,2),r=n[0],s=n[1],l=Object(a.useState)({}),o=Object(u.a)(l,2),j=o[0],p=o[1],h=[],m=[],f=Object(a.useState)({}),v=Object(u.a)(f,2),w=v[0],y=v[1];Object(a.useEffect)(Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://pollmaker.herokuapp.com/poll/"+t).then((function(e){p(e.data),s(!0),e.data.options.map((function(e){h.push(e.opt),m.push(e.votes)})),y({labels:h,datasets:[{label:"# of Votes",data:m,fill:!1,backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]})}));case 2:case"end":return e.stop()}}),e)}))),[]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{}),Object(x.jsx)("div",{className:"container",style:{marginTop:"50px",paddingBottom:"100px"},children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-lg-4 offset-lg-4",children:[Object(x.jsx)("h2",{style:{marginBottom:"10px"},children:j.pollQuestion}),r?Object(x.jsx)(E.a,{data:w}):Object(x.jsxs)("div",{style:{marginTop:"10em"},children:[Object(x.jsx)("center",{children:Object(x.jsx)(k.HashLoader,{size:100,loading:!0})})," "]})]})})})]})};var Q=function(){return Object(x.jsx)(l.a,{children:Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(i.c,{children:[Object(x.jsx)(i.a,Object(o.a)({exact:!0,path:"/",component:C},"exact",!0)),Object(x.jsx)(i.a,{path:"/sign-in",component:f,exact:!0}),Object(x.jsx)(i.a,{path:"/sign-up",component:v,exact:!0}),Object(x.jsx)(i.a,{path:"/createpoll",component:S,exact:!0}),Object(x.jsx)(i.a,{path:"/poll/:id",component:_,exact:!0}),Object(x.jsx)(i.a,{path:"/result/:id",component:B,exact:!0})]})})})};s.a.render(Object(x.jsx)(l.a,{children:Object(x.jsx)(Q,{})}),document.getElementById("root"))},85:function(e,t,c){}},[[304,1,2]]]);
//# sourceMappingURL=main.f011a595.chunk.js.map